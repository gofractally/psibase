package component:tokens;



interface types {

    type quantity = string;
    type precision = u8;
    type token-code = string;
    type account-number = string;

    record token-detail {
        id: u32,
        owner: string,
        precision: u8,
        symbol-id: string,
    }

    record balance {
        balance: string,
        creditor: string,
        debitor: string,
        token-id: u32,
    }
}



interface intf {
    use common:plugin/types.{error};
    use types.{precision, quantity, token-code, account-number};
    
    create: func(a: precision, b: quantity) -> result<_, error>;
    burn: func(code: token-code, amount: quantity, memo: string, account: account-number) -> result<_, error>;
    mint: func(code: token-code, amount: quantity, memo: string) -> result<_, error>;
}

interface transfer {
    use common:plugin/types.{error};
    use types.{token-code, account-number, quantity, balance, token-detail};

    token-owner: func(code: token-code) -> result<token-detail, error>;
    uncredit: func(code: token-code, debitor: account-number, amount: quantity, memo: string) -> result<_, error>;
    credit: func(code: token-code, receiver: account-number, amount: quantity, memo: string) -> result<_, error>;
    balances: func() -> result<list<balance>, error>;
}

/// An example world for the component to target.
world example {

    import common:plugin/server;
    import common:plugin/client;



    export types;
    export intf;
    export transfer;
}